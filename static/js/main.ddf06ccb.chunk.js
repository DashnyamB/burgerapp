(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={BreadTop:"style_BreadTop__2iWeB",Seed:"style_Seed__XjYoC",Second:"style_Second__2hXKg",Third:"style_Third__3drzS",Fourth:"style_Fourth__3m5s3",Salad:"style_Salad__1Kjj0",Meat:"style_Meat__3fFhS",Cheese:"style_Cheese__1c27O",Bacon:"style_Bacon__YfLKo",BreadBottom:"style_BreadBottom__2PE98"}},,,,,,,function(e,t,n){"use strict";var r=n(0),c=(n(1),n(32)),a=n.n(c);t.a=function(e){return Object(r.jsx)("button",{onClick:e.clicked,className:"".concat(a.a.Button," ").concat(a.a[e.buttonType]),children:e.text})}},,,function(e,t,n){e.exports={SideBar:"style_SideBar__39LsT",Open:"style_Open__zximV",Close:"style_Close__1VJf5",Logo:"style_Logo__3eNlw"}},,,function(e,t,n){"use strict";var r=n(0),c=(n(1),n(52)),a=n.n(c);t.a=function(){return Object(r.jsx)("div",{className:a.a.Loader})}},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n(23),c=n.n(r).a.create({baseURL:"https://burgerappmn.firebaseio.com/"}),a=function(e){return function(t,n){t(s());var r=n().signupLoginReducer.token;c.get("/orders.json?&auth=".concat(r,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){var n=Object.entries(e.data).reverse();t(i(n))})).catch((function(e){return t(u(e))}))}},o=function(){return{type:"CLEAR_ORDER"}},s=function(){return{type:"LOAD_ORDERS_START"}},i=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},u=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},l=function(e){return function(t,n){t(d());var r=n().signupLoginReducer.token;c.post("/orders.json?auth=".concat(r),e).then((function(e){return t(j())})).catch((function(e){return t(b(e))}))}},d=function(){return{type:"SAVE_ORDER_START"}},j=function(){return{type:"SAVE_ORDER_SUCCESS"}},b=function(e){return{type:"SAVE_ORDER_ERROR",error:e}}},,function(e,t,n){e.exports={MenuItem:"style_MenuItem__2dDcD",active:"style_active__3LEl8"}},,,function(e,t,n){e.exports={Toolbar:"style_Toolbar__2bQqi",HideOnMobile:"style_HideOnMobile__hLMH5"}},function(e,t,n){e.exports={Button:"style_Button__2v1ZC",Success:"style_Success__2tVx2",Danger:"style_Danger__ugiQW"}},,function(e,t,n){"use strict";var r=n(0),c=(n(1),n(50)),a=n.n(c);t.a=function(e){return e.show?Object(r.jsx)("div",{onClick:e.onClick,className:a.a.Shadow}):null}},,,,,,,,,function(e,t,n){"use strict";var r=n(1),c=n.n(r);t.a=c.a.createContext("hello")},function(e,t,n){"use strict";var r=n(0),c=(n(1),n(5)),a=n(7),o=n.n(a),s=function(e){return"bread-top"===e.type?Object(r.jsxs)("div",{className:o.a.BreadTop,children:[Object(r.jsx)("div",{className:o.a.Seed}),Object(r.jsx)("div",{className:"".concat(o.a.Seed," ").concat(o.a.Second)}),Object(r.jsx)("div",{className:"".concat(o.a.Seed," ").concat(o.a.Third)}),Object(r.jsx)("div",{className:"".concat(o.a.Seed," ").concat(o.a.Fourth)})]}):"salad"===e.type?Object(r.jsx)("div",{className:o.a.Salad}):"bacon"===e.type?Object(r.jsx)("div",{className:o.a.Bacon}):"meat"===e.type?Object(r.jsx)("div",{className:o.a.Meat}):"cheese"===e.type?Object(r.jsx)("div",{className:o.a.Cheese}):"bread-bottom"===e.type?Object(r.jsx)("div",{className:o.a.BreadBottom}):Object(r.jsx)("div",{children:"..."})},i=n(51),u=n.n(i),l=n(4);t.a=Object(c.b)((function(e){return{orts:e.burgerReducer.ingridients}}))(Object(l.h)((function(e){var t=Object.entries(e.orts),n=[];return t.map((function(e){for(var t=0;t<e[1];t++)n.push(Object(r.jsx)(s,{type:e[0]},"".concat(e[0]).concat(t+1)))})),0===n.length&&(n=Object(r.jsx)("p",{children:"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443... "})),Object(r.jsxs)("div",{className:u.a.Burger,children:[Object(r.jsx)(s,{type:"bread-top"}),n,Object(r.jsx)(s,{type:"bread-bottom"})]})})))},,function(e,t,n){e.exports={Content:"style_Content__Jivhh"}},function(e,t,n){e.exports={HamburgerMenu:"style_HamburgerMenu__2tdB1"}},function(e,t,n){e.exports={Logo:"style_Logo__3jUYu"}},function(e,t,n){e.exports={Menu:"style_Menu__pkoLt"}},function(e,t,n){e.exports={Shadow:"style_Shadow__1UEeI"}},function(e,t,n){e.exports={Burger:"style_Burger__34vxx"}},function(e,t,n){e.exports={Loader:"style_Loader__uiY82",load1:"style_load1__2tnOx"}},function(e,t,n){e.exports={ContactData:"style_ContactData__LhzjR"}},function(e,t,n){e.exports={ShippingPage:"style_ShippingPage__GIm9H"}},function(e,t,n){e.exports={Login:"style_Login__3GM_5"}},,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),o=n(21),s=n.n(o),i=n(12),u=(n(62),n(13)),l=n(4),d=n(5),j=n(46),b=n.n(j),O=n(47),g=n.n(O),f=function(e){return Object(r.jsxs)("div",{onClick:e.toggleSidebar,className:g.a.HamburgerMenu,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},p=n(48),_=n.n(p),h=n.p+"static/media/burger-logo.ec69c7f6.png",x=function(e){return Object(r.jsx)("div",{className:_.a.Logo,children:Object(r.jsx)("img",{src:h,alt:""})})},S=n(28),v=n.n(S),m=function(e){return Object(r.jsx)("li",{className:v.a.MenuItem,children:Object(r.jsx)(i.b,{exact:e.exact,activeClassName:v.a.active,to:e.link,children:e.children})})},R=n(49),y=n.n(R),E=Object(d.b)((function(e){return{userId:e.signupLoginReducer.userId}}))((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:y.a.Menu,children:e.userId?Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(m,{exact:!0,link:"/",children:"\u0428\u0418\u041d\u042d \u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410"}),Object(r.jsx)(m,{link:"/orders",children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0423\u0423\u0414"}),Object(r.jsx)(m,{link:"/logout",children:"\u0413\u0410\u0420\u0410\u0425"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m,{link:"/login",children:"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"}),Object(r.jsx)(m,{link:"/signup",children:"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425"})]})})})})),I=n(31),L=n.n(I),C=function(e){return Object(r.jsxs)("header",{className:L.a.Toolbar,children:[Object(r.jsx)(f,{toggleSidebar:e.toggleSidebar}),Object(r.jsx)(x,{}),Object(r.jsx)("nav",{className:L.a.HideOnMobile,children:Object(r.jsx)(E,{})})]})},N=n(34),T=n(17),w=n.n(T),D=function(e){var t=[w.a.SideBar,w.a.Close];return e.showSidebar&&(t=[w.a.SideBar,w.a.Open]),Object(r.jsxs)("div",{children:[Object(r.jsx)(N.a,{onClick:e.toggleSidebar,show:e.showSidebar}),Object(r.jsxs)("div",{onClick:e.toggleSidebar,className:t.join(" "),children:[Object(r.jsx)("div",{className:w.a.Logo,children:Object(r.jsx)(x,{})}),Object(r.jsx)(E,{})]})]})},k=n(44),B=n(14),M=n(20),A=n(53),U=n.n(A),P=n(26),G=Object(d.b)((function(e){return{price:e.burgerReducer.totalPrice,ingridients:e.burgerReducer.ingridients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupLoginReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(P.c(t))},clearOrder:function(){return e(P.a())}}}))((function(e){var t=Object(l.g)(),n=Object(c.useState)(null),a=Object(u.a)(n,2),o=a[0],s=a[1],i=Object(c.useState)(null),d=Object(u.a)(i,2),j=d[0],b=d[1],O=Object(c.useState)(null),g=Object(u.a)(O,2),f=g[0],p=g[1],_=Object(c.useRef)();Object(c.useEffect)((function(){return console.log("Contact Data effect"),e.newOrderStatus.finished&&!e.newOrderStatus.error&&t.replace("/orders"),function(){console.log("Order Clearing"),e.clearOrder()}}),[e.newOrderStatus.finished]);return console.log(e),Object(r.jsxs)("div",{className:U.a.ContactData,children:[Object(r.jsx)("div",{ref:_,children:Object(r.jsxs)("b",{style:{fontSize:"16px"},children:[" \u0414\u04ae\u041d : ",e.price]})}),Object(r.jsx)("div",{children:e.newOrderStatus.error&&"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430 : ".concat(e.newOrderStatus.error)}),e.newOrderStatus.saving?Object(r.jsx)(M.a,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{onChange:function(e){"red"===_.current.style.color?_.current.style.color="green":_.current.style.color="red",s(e.target.value)},type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),Object(r.jsx)("input",{onChange:function(e){p(e.target.value)},type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433"}),Object(r.jsx)("input",{onChange:function(e){b(e.target.value)},type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0445\u043e\u0442"}),Object(r.jsx)(B.a,{text:"\u0418\u041b\u0413\u042d\u042d\u0425",buttonType:"Success",clicked:function(){var t={userId:e.userId,orts:e.ingridients,dun:e.price,hayag:{name:o,city:j,street:f}};e.saveOrderAction(t)}})]})]})})),V=n(54),z=n.n(V),F=Object(d.b)((function(e){return{price:e.burgerReducer.totalPrice}}))((function(e){return Object(r.jsxs)("div",{className:z.a.ShippingPage,children:[Object(r.jsx)("p",{children:Object(r.jsx)("stront",{style:{fontSize:"28px"},children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430..."})}),Object(r.jsx)("p",{children:Object(r.jsxs)("strong",{style:{fontSize:"28px"},children:["\u04ae\u043d\u044d : \u20ae",e.price]})}),Object(r.jsx)(k.a,{}),Object(r.jsx)(B.a,{clicked:function(){e.history.goBack()},buttonType:"Danger",text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425"}),Object(r.jsx)(B.a,{clicked:function(){e.history.replace("/ship/contact")},buttonType:"Success",text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b \u041e\u0420\u0423\u0423\u041b\u0410\u0425"}),Object(r.jsx)(l.b,{path:"/ship/contact",children:Object(r.jsx)(G,{})})]})})),H=n(55),J=n.n(H),X=n(23),Y=n.n(X),K=function(){return{type:"LOGIN_USER_START"}},W=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},q=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Q=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT"}},Z=function(e){return function(t){setTimeout((function(){t(Q())}),e)}},$=Object(d.b)((function(e){return{loggingIn:e.signupLoginReducer.loggingIn,firebaseError:e.signupLoginReducer.firebaseError,userId:e.signupLoginReducer.userId}}),(function(e){return{login:function(t,n){return e(function(e,t){return function(n){n(K());var r={email:e,password:t,returnSecureToken:!0};Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCEcdsNuBBM85l0lm4ft7UGyuV_M0ktpvM",r).then((function(e){var t=e.data.idToken,r=e.data.localId,c=e.data.expiresIn,a=new Date((new Date).getTime()+1e3*c),o=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",r),localStorage.setItem("refreshToken",o),localStorage.setItem("expireDate",a),n(W(t,r)),n(Z(1e3*c))})).catch((function(e){n(q(e))}))}}(t,n))}}}))((function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(u.a)(t,2),a=n[0],o=n[1];return Object(r.jsxs)("div",{className:J.a.Login,children:[e.userId&&Object(r.jsx)(l.a,{to:"/orders"}),Object(r.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value;o((function(e){return{email:t,password:e.password}}))},placeholder:"\u0418\u043c\u0435\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(r.jsx)("input",{type:"password",onChange:function(e){var t=e.target.value;o((function(e){return{email:e.email,password:t}}))},name:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),e.loggingIn&&Object(r.jsx)(M.a,{}),e.firebaseError&&Object(r.jsx)("div",{style:{color:"red"},children:e.firebaseError.message}),Object(r.jsx)(B.a,{text:"\u041d\u042d\u0412\u0422\u0420\u042d\u0425",clicked:function(){e.login(a.email,a.password)},buttonType:"Success"})]})})),ee=Object(d.b)(null,(function(e){return{logout:function(){return e(Q())}}}))((function(e){return Object(c.useEffect)((function(){e.logout()}),[]),Object(r.jsx)(l.a,{to:"/"})})),te=n(43),ne=a.a.lazy((function(){return n.e(3).then(n.bind(null,92))})),re=a.a.lazy((function(){return n.e(4).then(n.bind(null,93))})),ce=a.a.lazy((function(){return n.e(5).then(n.bind(null,94))})),ae=Object(d.b)((function(e){return{userId:e.signupLoginReducer.userId}}),(function(e){return{autologin:function(t,n){return e(W(t,n))},logout:function(){return e(Q())},autoLogoutAfterMillisec:function(t){return e(Z(t))}}}))((function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],o=n[1],s=function(){o((function(e){return!e}))};return Object(c.useEffect)((function(){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("expireDate");localStorage.getItem("refreshToken");t&&(r>new Date?(e.autologin(t,n),e.autoLogoutAfterMillisec(r.getTime()-(new Date).getTime())):e.logout())}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(C,{toggleSidebar:s}),Object(r.jsx)(D,{showSidebar:a,toggleSidebar:s}),Object(r.jsx)("main",{className:b.a.Content,children:Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0422\u04af\u0440 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af..."}),children:e.userId?Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/logout",component:ee}),Object(r.jsx)(l.b,{path:"/ship",component:F}),Object(r.jsx)(l.b,{path:"/orders",component:re}),Object(r.jsx)(l.b,{path:"/",children:Object(r.jsx)(te.a.Provider,{value:""+a,children:Object(r.jsx)(ne,{})})})]}):Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/login",component:$}),Object(r.jsx)(l.b,{path:"/signup",component:ce}),Object(r.jsx)(l.a,{to:"/login"})]})})})]})})),oe=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},se=n(15),ie=n(56),ue=n(19),le=n(2),de={ingridients:{salad:0,meat:0,bacon:0,cheese:0},totalPrice:1e3,purchasing:!1,ingridientNames:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",salad:"\u0421\u0430\u043b\u0430\u0434",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433"}},je={salad:150,cheese:250,bacon:800,meat:1500},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGRIDIENT"===t.type)return Object(le.a)(Object(le.a)({},e),{},{ingridients:Object(le.a)(Object(le.a)({},e.ingridients),{},Object(ue.a)({},t.ortsNer,e.ingridients[t.ortsNer]+1)),totalPrice:e.totalPrice+je[t.ortsNer],purchasing:!0});if("REMOVE_INGRIDIENT"===t.type){var n=e.totalPrice-je[t.ortsNer];return Object(le.a)(Object(le.a)({},e),{},{ingridients:Object(le.a)(Object(le.a)({},e.ingridients),{},Object(ue.a)({},t.ortsNer,e.ingridients[t.ortsNer]-1)),totalPrice:n,purchasing:n>1e3})}return"CLEAR_ORDER"===t.type?de:e},Oe={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_ORDER":return Object(le.a)(Object(le.a)({},e),{},{newOrder:{saving:!1,finished:!1,error:null}});case"LOAD_ORDERS_START":return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{loading:!1,orders:t.orders});case"LOAD_ORDERS_ERROR":return Object(le.a)(Object(le.a)({},e),{},{loading:!1,error:t.error});case"SAVE_ORDER_START":return Object(le.a)(Object(le.a)({},e),{},{newOrder:Object(le.a)(Object(le.a)({},e.newOrder),{},{saving:!0})});case"SAVE_ORDER_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{newOrder:Object(le.a)(Object(le.a)({},e.newOrder),{},{saving:!1,finished:!0,error:null})});case"SAVE_ORDER_ERROR":return Object(le.a)(Object(le.a)({},e),{},{newOrder:Object(le.a)(Object(le.a)({},e.newOrder),{},{saving:!1,finished:!0,error:t.error})});default:return e}},fe={saving:!1,firebaseError:null,loggingIn:!1,token:null,iserID:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(le.a)(Object(le.a)({},e),{},{saving:!0});case"SIGNUP_USER_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{saving:!1,firebaseError:null,token:t.token,userId:t.userId});case"SIGNUP_USER_ERROR":return Object(le.a)(Object(le.a)({},e),{},{saving:!1,firebaseError:t.error.response.data.error});case"LOGIN_USER_START":return Object(le.a)(Object(le.a)({},e),{},{loggingIn:!0});case"LOGIN_USER_ERROR":return Object(le.a)(Object(le.a)({},e),{},{loggingIn:!1,firebaseError:t.error.response.data.error});case"LOGIN_USER_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{loggingIn:!1,token:t.token,userId:t.userId});case"LOGOUT":return Object(le.a)(Object(le.a)({},e),{},{token:null,userId:null,firebaseError:null});default:return e}},_e=Object(se.c)({burgerReducer:be,orderReducer:ge,signupLoginReducer:pe}),he=[function(e){return function(t){return function(n){console.log("MyLoggerMiddleware : Dispatching : ",n),console.log("MyLoggerMiddleware : State Before ",e.getState());var r=t(n);return console.log("MyLoggerMiddleware : State After ",e.getState()),r}}},ie.a],xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,Se=Object(se.e)(_e,xe(se.a.apply(void 0,he)));s.a.render(Object(r.jsx)(d.a,{store:Se,children:Object(r.jsx)(i.a,{children:Object(r.jsx)(ae,{})})}),document.getElementById("root")),oe()}],[[85,1,2]]]);
//# sourceMappingURL=main.ddf06ccb.chunk.js.map